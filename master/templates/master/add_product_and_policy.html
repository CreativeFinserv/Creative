{% extends "base/base.html" %}

{% load static %}

{% block title %}Product & Policy Master{% endblock title %}

{% block other_body_css %}id="page-top"{% endblock other_body_css %}

{% block other_body %}
<div class="container" style="margin:25px auto;">
    {% csrf_token %}
    <div class="form-group row"></div>
    <div class="container">
        <h1 class=" mt-3 mb-4 display-3 text-center">Product & Policy Details</h1>
        <div class="card-body">
            <div class="container">
                <form method="POST" action="{% url 'add_products_and_policy_view' %}"
                    class="form-container bg-white rounded shadow-blur p-3" id="leadform" data-cities-url="ajax/cities/"
                    data-subproducts-url="ajax/subproducts/">
                    {% csrf_token %}
                    <div class="row g-4 p-4">
                        {% for field in form %}
                        <div class="col-sm-4 mb-2">
                            <div class="input-group input-group-static">
                                <label class="ms-0 text-primary fw-bold">{{field.label}}</label>
                                {{ field }}
                            </div>
                        </div>
                        {% endfor %}
                    </div>




                    <div class="field_wrapper" id="category_row">
                        <div class="row g-4 p-4">
                            <label class="col-sm-4 ms-0" style="color: black"><b>Add Multiplier:</b></label>
                            {% comment %} <div class="col-sm-4 mb-2 mb-2">
                                <div class="input-group input-group-static">
                                </div>
                                <label class="ms-0 text-primary fw-bold">{{field.label}}</label>
                                {{ field }}
                            </div> {% endcomment %}
                            <div class="col-sm-12 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ms-0 text-primary fw-bold" style="color: black"><b>Company
                                            Category:</b></label>
                                    <select class="custom-select form-control" name="cocat_type">
                                        <option selected>Select Multiplier Type:</option>
                                        {% for cocat in cocatt_type %}
                                        <option value="{{cocat.cocat_type}}">{{cocat.cocat_type}}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>

                            <div class="col-sm-6 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-3 ms-0 text-primary fw-bold"
                                        style="color: black"><b>ROI:</b></label>
                                    <input type=number class="form-control ml-1" name="roi" placeholder="ROI">
                                </div>
                            </div>





                            {% comment %} <div class="col-sm-4 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-1 ms-0 text-primary fw-bold" style="color: black"><b></b></label>
                                </div>
                            </div> {% endcomment %}

                            <div class="col-sm-6 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-3 ms-0 text-primary fw-bold"><b>Multiplier No:</b></label>
                                    <input class="form-control ml-1" type="number" name="multiplier_number">
                                </div>
                            </div>


                            <div class="col-sm-6 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-3 ms-0 text-primary fw-bold" style="color: black"><b>Loan
                                            Amount:</b></label>
                                    <input class="form-control ml-1" type="number" name="min_loan_amt"
                                        placeholder="Min Loan Amount">
                                    <input class="form-control ml-1" type="number" name="max_loan_amt"
                                        placeholder="Max Loan Amount">
                                </div>
                            </div>
                        </div>
                    </div>





                    <div class="row ps-4">
                        <button id="addCategoryBtn" class="col-sm-5 btn btn-primary add_button" type="button">+ Add one
                            more Co-Category
                            Type</button>
                    </div>



                    <div class="field_wrapper" id="foir_row">
                        <div class="row g-4 p-4">

                            <label class="ms-0 col-sm-12" style="color: black"><b>Add FOIR:</b></label>
                            <div class="col-sm-4 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-3 ms-0 text-primary fw-bold"><b>Minimum Net
                                            Salary:</b></label>
                                    <input class="form-control ml-1" type="number" name="min_net_sal"
                                        placeholder="Min Net Salary">
                                </div>
                            </div>

                            <div class="col-sm-4 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-1 ms-0 text-primary fw-bold"><b>Maximum Net Salary</b></label>
                                    <input class="form-control ml-1" type="number" name="max_net_sal"
                                        placeholder="Max Net Salary">
                                </div>
                            </div>

                            <div class="col-sm-4 mb-2">
                                <div class="input-group input-group-static">
                                    <label class="ml-4 ms-0 text-primary fw-bold"><b>Foir:</b></label>
                                    <input class="form-control ml-1" type="number" name="cutoff" placeholder="Foir">
                                </div>
                            </div>
                        </div>
                    </div>




                    <div class="row ps-4">
                        <button id="addFoirBtn" class="col-sm-5 btn btn-primary add_button_FOIR" type="button">+ Add one
                            more FOIR
                            Type</button>
                    </div>

                    <div class="row g-1 mt-3 px-4">
                        <label class="col-12" style="color: black"><b>Company Type:</b></label>
                        {% for com in com_type %}
                        <div class="col-sm-4 mb-2">
                            <div class="form-check">
                                <input class="form-check-input me-1" style="border-color: grey;" type="checkbox"
                                    value="{{com.company_type}}" name="company_type">
                                <label
                                    class="form-check-label ml-1 ms-0 text-primary fw-bold"><b>{{com.company_type}}</b></label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="row g-1 mt-3 px-4">
                        <label class="col-12" style="color: black"><b>Salary Type:</b></label>
                        {% for salary_type in s_type %}
                        <div class="col-sm-4 mb-2">
                            <div class="form-check">
                                <input class="form-check-input me-1" style="border-color: grey;" type="checkbox"
                                    value="{{salary_type.salary_type}}" name="salary_type">
                                <label
                                    class="form-check-label ml-1 ms-0 text-primary fw-bold"><b>{{salary_type.salary_type}}</b></label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>


                    <div class="row g-1 mt-3 px-4">
                        <label class="col-12" style="color: black"><b>Residence Type:</b></label>
                        {% for residence_type in res_type %}
                        <div class="col-sm-4 mb-2">
                            <div class="form-check">
                                <input class="form-check-input me-1" style="border-color: grey;" type="checkbox"
                                    value="{{residence_type.residence_type}}" name="res_type">
                                <label
                                    class="form-check-label ml-1 ms-0 text-primary fw-bold"><b>{{residence_type.residence_type}}</b></label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="row g-2 mt-3 px-4">
                        <label class="col-12" style="color: black"><b>Tenure:</b></label>
                        {% for tenure in tenures %}
                        <div class="col-sm-4 mb-2">
                            <div class="form-check">
                                <input class="form-check-input me-1" style="border-color: grey;" type="checkbox"
                                    value="{{tenure.ten_type}}" name="tenure">
                                <label
                                    class="form-check-label ml-1 ms-0 text-primary fw-bold"><b>{{tenure.ten_type}}</b></label>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="mt-3 text-center">

                        <button class="btn btn-primary me-3" type="submit">Submit</button>
                        <button class="btn btn-secondary" type="reset">Reset</button>
                    </div>



                    {% comment %} <div class="text-center">
                        <button class="btn btn-primary" name="save" type="submit">Save</button>
                    </div> {% endcomment %}

                </form>
            </div>
        </div>
    </div>




</div>



{% endblock other_body %}


{% block other_js %}

<script>
    $(document).ready(() => {
        $("#addFoirBtn").click(() => {
            console.log("Foir Clicked")

            $("#foir_row").append(`<div class="row g-4 p-4">

                <label class="ms-0 col-sm-12" style="color: black"><b>Add FOIR:</b></label>
                <div class="col-sm-4 mb-2">
                    <div class="input-group input-group-static">
                        <label class="ml-3 ms-0 text-primary fw-bold"><b>Minimum Net
                                Salary:</b></label>
                        <input class="form-control ml-1" type="number" name="min_net_sal" placeholder="Min Net Salary">
                    </div>
                </div>

                <div class="col-sm-4 mb-2">
                    <div class="input-group input-group-static">
                        <label class="ml-1 ms-0 text-primary fw-bold"><b>Maximum Net Salary</b></label>
                        <input class="form-control ml-1" type="number" name="max_net_sal" placeholder="Max Net Salary">
                    </div>
                </div>

                <div class="col-sm-4 mb-2">
                    <div class="input-group input-group-static">
                        <label class="ml-4 ms-0 text-primary fw-bold"><b>Foir:</b></label>
                        <input class="form-control ml-1" type="number" name="cutoff" placeholder="Foir">
                    </div>
                </div>
            </div>`)
        })


        $("#addCategoryBtn").click(() => {
            console.log("Category Clicked")
            $("#category_row").append(`<div class="field_wrapper" id="category_row">
                <div class="row g-4 p-4">
                    <label class="col-sm-4 ms-0" style="color: black"><b>Add Multiplier:</b></label>

                    <div class="col-sm-12 mb-2">
                        <div class="input-group input-group-static">
                            <label class="ms-0 text-primary fw-bold" style="color: black"><b>Company
                                    Category:</b></label>
                            <select class="custom-select form-control" name="cocat_type">
                                <option selected>Select Multiplier Type:</option>
                                {% for cocat in cocatt_type %}
                                <option value="{{cocat.cocat_type}}">{{cocat.cocat_type}}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-6 mb-2">
                        <div class="input-group input-group-static">
                            <label class="ml-3 ms-0 text-primary fw-bold" style="color: black"><b>ROI:</b></label>
                            <input type="number" class="form-control ml-1" name="roi" placeholder="ROI">
                        </div>
                    </div>

                    <div class="col-sm-6 mb-2">
                        <div class="input-group input-group-static">
                            <label class="ml-3 ms-0 text-primary fw-bold"><b>Multiplier No:</b></label>
                            <input class="form-control ml-1" type="number" name="multiplier_number">
                        </div>
                    </div>


                    <div class="col-sm-6 mb-2">
                        <div class="input-group input-group-static">
                            <label class="ml-3 ms-0 text-primary fw-bold" style="color: black"><b>Loan
                                    Amount:</b></label>
                            <input class="form-control ml-1" type="number" name="min_loan_amt"
                                placeholder="Min Loan Amount">
                            <input class="form-control ml-1" type="number" name="max_loan_amt"
                                placeholder="Max Loan Amount">
                        </div>
                    </div>
                </div>
            </div>`)
        })
    })
</script>
{% endblock other_js %}